<app-blank 
    pageTitle="Kullanıcılar" 
    [breadcrumbs]="[{
        title: 'Kullanıcılar', 
        url: '/users', 
        icon: 'group'
    }]" />

<flexi-grid
[data]="data()"
[loading]="loading()"
language="tr"
[showCaption]="true"
captionTitle="Kullanıcı Listesi"
[showExportExcelBtn]="true"
exportExcelFileName="kullanicilar"
(onRefresh)="result.reload()"
>

    <ng-template flexiGridCaptionCommandTemplate>
        
        <flexi-button 
            routerLink="/users/create"
            btnIcon="add" 
            btnColor="primary" 
            title="Ekle" 
            flexiTooltip/>

    </ng-template>

    <flexi-grid-column field="firstName" title="Kullanici Adi" />
    <flexi-grid-column field="lastName" title="Kullanici Soyadi" />
    <flexi-grid-column field="userName" title="Login Adi" />
    <flexi-grid-column field="email" title="Email Adresi" />
    <flexi-grid-column field="isAdmin" title="Admin Mi?" 
        textAlign="center" 
        filterType="boolean"
        [booleanData]="['Admin', 'Admin Değil']">

        <div class="d-flex justify-content-center">
            <ng-template flexiGridCellTemplate let-item>
                <input 
                    type="checkbox" 
                    [checked]="item.isAdmin" 
                    class="form-control" 
                    [name]="item.id" />
            </ng-template>
        </div>
        
    </flexi-grid-column>

       <ng-template flexiGridColumnCommandTemplate let-item>
        
        <flexi-button 
            [routerLink]="['/','users','edit','item.id']"
            btnIcon="edit" 
            btnColor="info" 
            title="Güncelle" 
            flexiTooltip/>

        <flexi-button 
            (click)="delete(item.id)"
            btnIcon="delete" 
            btnColor="danger" 
            title="Sil" 
            flexiTooltip/>

    </ng-template>

</flexi-grid>